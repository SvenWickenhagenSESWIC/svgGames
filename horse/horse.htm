<!DOCTYPE html>
<html>
	<head>
		<title>Hoch zu Ross</title>
		<meta charset="UTF-8">

	</head>
	<body onload="Platzieren()">
		<svg id="svg1" width="3888" height="2592" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

			<!-- Definitionen -->
			<defs>
			
				<!-- Funktionen -->
				<script type="text/javascript"><![CDATA[
				
					var svgns = "http://www.w3.org/2000/svg";
					var xlink = 'http://www.w3.org/1999/xlink';
					
					//						1    2    3    4    5    6    7    8    9    10   11   12   13   14   15   16   17   18   19   20   21   22   23   24   25   26   27   28   29   30   31
					var posX = new Array(	930, 1070,630, 635, 490, 502, 540, 700, 770,1540,2510,2750,2095,3080, 980, 970,1795,1445,1515,1460,1460,1380,2560,1305,1290,2870,2850,2750,2770,2660,2980);
					var posY = new Array(	392, 460 ,230, 485, 585, 781, 830, 600, 555, 670, 723, 755, 715, 850, 810, 600,1325,1595,2040,1930,2260,2365,1330,1260, 830,1890,2020,1410,2280,1040, 870);
					var width = new Array(	373, 640 ,474, 370, 360, 293, 355, 324, 312, 624, 470, 498, 542, 257, 450, 639, 828, 375, 324, 414, 388, 401, 270, 416, 528, 399, 456, 485, 554, 540, 309);
					var height = new Array(	291, 420 ,335, 223, 359, 268, 290, 294, 394, 316, 678, 375, 296, 1434,481, 623, 380, 453, 277, 188, 177, 195, 221, 393, 606, 236, 365, 539, 282, 540, 334);
					var aufgaben = new Array("","Genick","Mähnenkamm","Ohren","Augen","Nasenrücken","Nüstern","Maul","Jochbein","Backe","Widerrist","Hüfte","Kruppe","Lende","Schweif","Drosselrinne","Hals","Bauch","Unterarme","Vordermittelfuß","Karpalgelenk","Fessel","Vorderhufen","Schlauch","Brust","Schulter","Sprunggelenk","Hintermittelfuß","Unterschenkel","Hinterhufen","Oberschenkel","Sitzbeinhöcker");
					var outputs = new Array(0,1,4,2,3,5,1,2,3,4,2,8,6,7,2,8,1,6,2,6,6,8,1,9,9,7,2,6,7,9,3,4,4,2,3,5,4,1,2,3,4,2,1,4,1,2,4,5,3,2,1,5,4,2,9,1,4,2,9,1,9,2,8,2,7,4,6,4,3,2,9,4,9,1,2,3,4,2,3,2,5,4,2,1,4,5,2,4,2,3,5,4,2,1,2,4,2,7,6,7,4,6,2,7,3,7,9,6,1,8,9,4,2,6,7,8,4,3,2,4,2,3,1,4,2,2,1,4,3,4,2,1,3,4,2,1,3,4,2,1,3,5,7,5,7,4,8,2,9,1,4,2,9,4,2,1,8,6,1,2,4,3,1,4,2,2,3,5,1,2,5,4,2,2,4,5,5,1,5,4,2,1,5,9,9,8,1,8,6,9,2,7,5,4,2,6,7,9,0,8,2,7,1,2,4,5,4,3,2,1,4,2,1,4,2,4,4,3,2,1,5,3,2,4,5,2,5,2,2,5,4,2,1,5,5,1,2,4,2,5,5,1,2,4,2,5,3,1,5,4,2,1,4,2,3,1,4,5,2,4,5,6,5,4,2,9,4,6,9,7,5,7,7,8,1,6,7,9,2,7,8,6,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,2,9,9,4,2,9,4,9,1,3,2,9,1,6,2,7,4,8,2,7,2,4,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,8,2,8,0,7,5,8,7,7,1,6,5,6,2,8,6,7,2,8,8,6,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,7,4,3,9,6,1,2,3,9,3,9,4,8,2,4,5,1,2,5,4,7,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,6,1,3,5,7,1,8,8,6,1,7,8,6,1,1,5,4,2,6,8,7,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,5,2,4,3,2,1,4,5,2,3,5,4,2,3,1,5,2,4,3,1,5,1,3,4,3,2,1,3,5,1,5,4,3,1,3,5,4,2,1,5,4,2,1,2,5,6,8,7,9,1,2,4,8,1,2,4,6,4,7,8,6,1,6,9,8,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,4,9,1,3,4,5,1,7,8,1,2,8,8,5,9,4,8,1,2,3,7,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,2,5,7,9,9,1,2,6,3,9,2,7,1,9,1,8,8,9,4,5,9,8,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,5,4,7,1,5,3,1,2,1,6,1,3,5,9,1,3,5,1,3,1,2,8,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,4,2,9,7,6,8,1,5,2,5,1,2,3,7,5,5,2,1,3,8,6,7,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);
					
					function PlatziereElement(element,x,y,w,h,typ,vis)
					{
						var object = document.createElementNS(svgns, 'image');
						object.setAttributeNS(xlink,'xlink:href',element+'.'+typ);
						object.setAttributeNS(null,'x',x);
						object.setAttributeNS(null,'y',y);
						object.setAttributeNS(null,'id',element);
						object.setAttributeNS(null,'width',w);
						object.setAttributeNS(null,'height',h);
						object.setAttributeNS(null,'visibility',vis);
						document.getElementById('svg1').appendChild(object);
					}
					
					function SetRectangle(positionX,positionY)
					{
						var object = document.createElementNS(svgns, 'rect');
						object.setAttributeNS(null,'x',positionX);
						object.setAttributeNS(null,'y',positionY);
						object.setAttributeNS(null,'width',20);
						object.setAttributeNS(null,'height',20);
						object.setAttributeNS(null,'style',"fill:black;stroke:none;");
						document.getElementById('svg1').appendChild(object);
					}
					
					function Zufallszahl(Min,Max)
					{
						var zahl = Min + parseInt( Math.random() * ( (Max + 1 ) - Min ));
						return zahl;
					}
					
					function ZufallsArray(anzahl,Min,Max)
					{
						var vector = new Array(anzahl);
						vector[1]=Zufallszahl(Min,Max);
						var vorh=false;
						for(i=2; i<anzahl+1; i++)
						{
							do 
							{
								vorh=false;
								vector[i]=Zufallszahl(Min,Max);
								for(j=1; j<i; j++)
								{
									if(vector[i]==vector[j])
										vorh=true;
								}
							} while (vorh);
						}
						return vector;
					}
					
					
					var zaehler=0;
					var zufall;
					
					// Kontur
					PlatziereElement('Kontur',20,20,3888,2592,'jpg','visible');

					function Platzieren()
					{
						for(j=1; j<32; j++)
						{
							PlatziereElement(j,posX[j-1],posY[j-1],width[j-1],height[j-1],'png','hidden');	
						}
						zufall = ZufallsArray(31,1,31);
						SetEllipse(zufall[1]);
					}
					
					function pruefen(element)
					{
						RemoveEllipse();
						zaehler=zaehler+1;
						document.getElementById(zufall[zaehler]).setAttribute("visibility","visible");
						document.getElementById('gr').setAttribute("height",zaehler*50);
						if(zaehler<31)
							SetEllipse(zufall[zaehler+1]);
						else
						{
							PlatziereElement('Finalbild',20,20,3888,2592,'jpg','visible');
							for(i=1; i<18; i++)
								for(j=1; j<44; j++)
									if(outputs[(i-1)*43+j]>5)
										SetRectangle(1700+j*20,200+i*20);
							
						}
					}
					
					function error(element)
					{
						RemoveEllipse();
						zaehler=0;
						zufall = ZufallsArray(31,1,31);
						SetKreuz();
						SetEllipse(zufall[zaehler+1]);
						//document.getElementById('kr').setAttribute("visibility","visible");
						window.setTimeout(RemoveKreuz, 1000);
						for(j=1; j<32; j++)
						{
							document.getElementById(j).setAttribute("visibility","hidden");
						}
					}
					
					function SetEllipse(num)
					{
						var object = document.createElementNS(svgns, 'rect');
						object.setAttributeNS(null,'x',0);
						object.setAttributeNS(null,'y',0);
						object.setAttributeNS(null,'id','Back');
						object.setAttributeNS(null,'width',3888);
						object.setAttributeNS(null,'height',2592);
						object.setAttributeNS(null,'style',"fill:black;opacity:0;stroke:none;");
						object.setAttributeNS(null,'onmousedown',"error(this);");
						document.getElementById('svg1').appendChild(object);
						var object = document.createElementNS(svgns, 'ellipse');
						object.setAttributeNS(null,'cx',posX[num-1]+width[num-1]/2);
						object.setAttributeNS(null,'cy',posY[num-1]+height[num-1]/2);
						object.setAttributeNS(null,'id','Ellipse');
						object.setAttributeNS(null,'rx',width[num-1]/2);
						object.setAttributeNS(null,'ry',height[num-1]/2);
						object.setAttributeNS(null,'style',"fill:black;opacity:0;stroke:none;");
						object.setAttributeNS(null,'onmousedown',"pruefen(this);");
						document.getElementById('svg1').appendChild(object);
						var object = document.createElementNS(svgns, 'text');
						object.setAttributeNS(null,'x',2000);
						object.setAttributeNS(null,'y',200);
						object.setAttributeNS(null,'id','Aufgabe');
						object.setAttributeNS(null,'style',"font-size:100px;font-weight:bold;text-align:center;text-anchor:middle;fill:#000000;fill-opacity:1;font-family:Serif");
						object.textContent=aufgaben[num];
						document.getElementById('svg1').appendChild(object);
					}
					
					function RemoveEllipse()
					{
						document.getElementById('Aufgabe').remove();
						document.getElementById('Back').remove();
						document.getElementById('Ellipse').remove();
					}
					
					function SetKreuz()
					{
						PlatziereElement('Kreuz',1432,784,1024,1024,'png','visible');
					}
					
					function RemoveKreuz()
					{
						document.getElementById('Kreuz').remove();
						document.getElementById('gr').setAttribute("height","0");
					}


				]]>
				</script>
				
			
			</defs>	
			<rect x="200" y="400" width="100" height="1550" fill="red"/>
			<rect id="gr" x="200" y="400" width="100" height="0" fill="green"/>

		</svg>
	</body>
</html>